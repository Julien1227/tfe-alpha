{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/app.js","webpack:///./src/styles/app.scss"],"names":["window","AudioContext","webkitAudioContext","context","o","createOscillator","g","createGain","gain","value","frequency","type","connect","destination","frq","root","document","documentElement","eventStart","eventEnd","matchMedia","matches","defaultEase","sectionIntro","querySelector","letters","querySelectorAll","count","randomColorstart","randomMinMax","playedColors","body","navBtn","pianoSvg","infoSection","colorBtn","creditBtn","closeCreditBtn","getElementById","colorInput","colorSpan","actualNote","color","colorInputs","colorSpans","speed","playRate","playRateSpan","colorNumberSpan","colorNumber","playImageBtn","imgToListen","backgroundImg","imageModule","btnUpload","btnOpenSelection","imageSelection","inputUpload","colorList","colorThief","ColorThief","pianoBtn","tuto","closeTuto","confirmEdit","editBtn","editDiv","editDivIndicator","saveBtn","editInput","sectionPiano","btnColors","h","pianoColor","s","l","down","navBtnOpen","navBtnClose","nav","gist","anchors","navElements","addEventListener","event","frqs","gains","hsls","start","classList","add","forEach","element","setGain","setFrequency","push","style","setProperty","e","opacity","i","setTimeout","playArrayWithoutColor","length","stopGain","display","target","currentTarget","pastTarget","remove","page","getAttribute","setAttribute","scrollTop","input","playNote","innerHTML","Number","h2","l2","background","deviceAction2","createPalette","toggle","image","console","log","imgName","children","currentSrc","slice","includes","changeImageToListen","click","imgLink","URL","createObjectURL","files","getPropertyValue","match","map","playArray","childNodes","btn","actualisePadBtnColor","targetBtn","hslColor","getHslFromAttribute","contains","top","offsetTop","offsetHeight","left","offsetLeft","actualBtn","notes","key","setValueAtTime","currentTime","setTargetAtTime","size","blur","colorDiv","createElement","backgroundColor","filter","bottom","width","height","appendChild","innerHeight","isCollide","external","animationName","complete","createPaletteOnLoad","id","ease","palette","getPalette","RGBToHSL","lum","sat","gainValue","Math","round","rgbColor","HSLtoRGB","min","max","floor","random","el1","el2","element1","getBoundingClientRect","element2","c","abs","x","m","r","b","cmin","cmax","delta","toFixed","anchor","preventDefault","scrollIntoView","behavior"],"mappings":"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","file":"/scripts/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\r\n\r\n// Création d'un oscillateur et gain avec la web audio API\r\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext;\r\nvar context = new AudioContext();\r\n\r\nvar o = context.createOscillator();\r\nvar g = context.createGain();\r\ng.gain.value = 0;\r\no.frequency.value = 0;\r\no.type = \"triangle\";\r\n\r\ng.connect(context.destination);\r\no.connect(g);\r\n\r\nvar frq = 0,\r\n    gain = 0;\r\n\r\nvar root = document.documentElement;\r\n\r\n// Défini la bon event à écouter - touch ou mouse\r\nvar eventStart = \"\";\r\nvar eventEnd = \"\";\r\nif (window.matchMedia(\"(min-width: 900px)\").matches) {\r\n    // Desktop - mouseevent\r\n    eventStart = 'mousedown';\r\n    eventEnd = 'mouseup';\r\n} else {\r\n    // Tablet - touchevent\r\n    eventStart = 'touchstart';\r\n    eventEnd = 'touchend';\r\n}\r\n\r\n\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////// VARIABLES ///////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\nvar defaultEase = 0.1;\r\n\r\n//////////////////////////////////////\r\n//////////// INTRODUCTION ////////////\r\n//////////////////////////////////////\r\n\r\nconst sectionIntro = document.querySelector('.section-intro'),\r\n      letters = document.querySelectorAll('.h1-letter');\r\n\r\nvar count = 1;\r\nvar randomColorstart = randomMinMax(0, 120);\r\n\r\nconst playedColors = document.querySelector('.played-color');\r\n\r\n\r\n//////////////////////////////////////\r\n///////// GESTION DU SLIDER //////////\r\n//////////////////////////////////////\r\n\r\nconst body = document.querySelector('body'),\r\n      navBtn = document.querySelectorAll('.section-header-creditBtn, .menu-btn'),\r\n      pianoSvg = document.querySelector('.section-piano-svg'),\r\n      infoSection = document.querySelector('.section-info'),\r\n      colorBtn = document.querySelector('.menu-btn[id=\"color\"]'),\r\n      creditBtn = document.querySelectorAll('.section-header-creditBtn'),\r\n      closeCreditBtn = document.getElementById('.closeCreditSection');\r\n\r\n\r\n//////////////////////////////////////\r\n//////// ECOUTE D'UNE COULEUR ////////\r\n////////////////////////////////////// \r\n\r\nvar colorInput = document.querySelectorAll('.colorInput'),\r\n    colorSpan = document.querySelectorAll('.colorSpan'),\r\n    actualNote = document.getElementById('playedColor');\r\n\r\nconst color = document.getElementById('module-color');\r\n\r\nvar colorInputs = [],\r\n    colorSpans = [];\r\n\r\n\r\n//////////////////////////////////////\r\n//////// ECOUTE D'UNE IMAGE //////////\r\n//////////////////////////////////////\r\n\r\nvar speed = 120;\r\nconst playRate = document.getElementById('playRate'),\r\n      playRateSpan = document.getElementById('playRateSpan'),\r\n      colorNumberSpan = document.getElementById('colorNumberSpan'),\r\n      colorNumber = document.getElementById('colorNumber');\r\n\r\nconst playImageBtn = document.getElementById('getColors'),\r\n      imgToListen = document.querySelector('.section-module-image1'),\r\n      backgroundImg = document.querySelector('.section-module-image2'),\r\n      imageModule = document.querySelector('.section-image .section-module'),\r\n      btnUpload = document.getElementById('uploadBtn'),\r\n      btnOpenSelection = document.getElementById('btnOpenSelection'),\r\n      imageSelection = document.querySelectorAll('.selection-image-el'),\r\n      inputUpload = document.getElementById('uploadInput'),\r\n      colorList = document.querySelector('.color-list');\r\n\r\nconst colorThief = new ColorThief();\r\n\r\n\r\n//////////////////////////////////////\r\n//////////////// PAD /////////////////\r\n////////////////////////////////////// \r\n\r\nconst pianoBtn = document.querySelectorAll('.pad-btn'),\r\n      tuto = document.querySelector('.pad-tuto'),\r\n      closeTuto = document.getElementById('closeTuto'),\r\n      confirmEdit = document.getElementById('confirmEdit'),\r\n      editBtn = document.querySelector('.btn-edit'),\r\n      editDiv = document.querySelector('.pad-editor'),\r\n      editDivIndicator = document.querySelector('.editor-indicator'),\r\n      saveBtn = document.querySelector('.btn-save'),\r\n      editInput = document.querySelector('.editor-slider'),\r\n      sectionPiano = document.querySelector('.section-pad');\r\n      \r\nvar btnColors = [];\r\nvar h = 0;\r\n\r\n\r\n//////////////////////////////////////\r\n////////////// PIANO /////////////////\r\n////////////////////////////////////// \r\n\r\nconst pianoColor = document.querySelector('.section-piano-color');\r\n\r\nvar h = 0,\r\n    s = 0,\r\n    l = 0,\r\n    down = false;\r\n\r\n\r\n//////////////////////////////////////\r\n////NAVIGATION DE LA SECTION INFO/////\r\n//////////////////////////////////////\r\n\r\nconst navBtnOpen = document.querySelector('.nav-btn-open'),\r\n      navBtnClose = document.querySelector('.nav-btn-close'),\r\n      nav = document.getElementById('nav'),\r\n      gist = document.querySelectorAll('.container-code .gist'),\r\n      anchors = document.querySelectorAll('.anchor'),\r\n      navElements = document.querySelectorAll('.navigation-list-el');\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n////////////////// INTRODUCTION + START API ///////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\nsectionIntro.addEventListener('click', (event) => {\r\n    \r\n    let frqs = [],\r\n        gains = [],\r\n        hsls = [];\r\n\r\n    o.start(0);\r\n    \r\n    sectionIntro.classList.add('play');\r\n    letters.forEach(element => {\r\n\r\n        //Crée la couleur en HSL pour jouer la note plus tard\r\n        let h = randomColorstart + (count * 20),\r\n            s = randomMinMax(70, 100),\r\n            l = randomMinMax(50, 60);\r\n        \r\n        let gain = setGain(l, s),\r\n            frq = setFrequency(h, s, l);\r\n\r\n        gains.push(gain);\r\n        frqs.push(frq);\r\n        hsls.push([h, s, l]);\r\n\r\n        root.style.setProperty('--h1letter-'+count, \"hsl(\"+ h +\", \"+ s +\"%, \"+ l +\"%)\");\r\n        \r\n        element.addEventListener('animationend', (e) => {\r\n            element.style.opacity = 1;\r\n            element.classList.add('end');\r\n        });\r\n\r\n        count++;\r\n    });\r\n\r\n    for (let i = 1; i < letters.length; i++) {\r\n        setTimeout(() => {\r\n            playArrayWithoutColor(i, 110, gains, frqs);\r\n        }, 280);\r\n    }\r\n\r\n    // Après que toutes les lettres aient joué.\r\n    setTimeout(() => {\r\n        stopGain(defaultEase);\r\n        sectionIntro.classList.add('hide');\r\n        sectionIntro.addEventListener('animationend', (e) => {\r\n            sectionIntro.style.display = \"none\";\r\n        });\r\n    }, (letters.length * 100) + 1500);\r\n});\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////// GESTION DU SLIDER ///////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\nnavBtn.forEach(element => {\r\n    element.addEventListener('click', (e) => {\r\n        let target = e.currentTarget;\r\n        \r\n        var pastTarget = document.querySelector('.menu-btn.active');\r\n\r\n        pastTarget != null ? pastTarget.classList.remove('active') : pastTarget = pastTarget;\r\n        \r\n        target.classList.add('active');\r\n        \r\n        let page = target.getAttribute('id');\r\n        body.setAttribute('data-page', page);\r\n\r\n        if (page == 'closeCreditSection') {\r\n            body.setAttribute('data-page', 'color');\r\n        }\r\n\r\n        // Refais apparaître le message du piano\r\n        if (page != \"piano\") {\r\n            pianoSvg.style.opacity = \"1\";\r\n            pianoSvg.style.display = \"inherit\";\r\n        }\r\n\r\n        // Reset le scroll de la page malgré l'ancre\r\n        if (page == \"info\") {\r\n            infoSection.scrollTop = 0;\r\n        }\r\n    });\r\n});\r\n\r\n\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////// ECOUTE D'UNE COULEUR ////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\ncolorInput.forEach((input) => {\r\n    colorInputs.push(input);\r\n});\r\n\r\ncolorSpan.forEach((colorSpan) => {\r\n    colorSpans.push(colorSpan);\r\n});\r\n\r\n\r\n//Lorsqu'un slider bouge :\r\nfor (let i = 0; i < colorInputs.length; i++) {\r\n    colorInputs[i].addEventListener('input', (e) => {\r\n\r\n        let h = colorInputs[0].value,\r\n            s = colorInputs[1].value,\r\n            l = colorInputs[2].value;\r\n\r\n        // Joue les paramètres et acualise la couleur du \"played-color\"\r\n        playNote(h,s,l);\r\n\r\n        // Affiche la fréquence jouée\r\n        actualNote.innerHTML = o.frequency.value + \" Hz\";\r\n        \r\n        // Affiche la valeur du slider \r\n        colorSpans[i].innerHTML = colorInputs[i].value;\r\n        \r\n        // Affiche la couleur jouée\r\n        h = Number(h);\r\n        l = Number(l);\r\n        \r\n        let h2 = h+20,\r\n            l2 = l-5;\r\n\r\n        h2 = h2 > 359 ? 359 : h2;\r\n        l2 = l2 < 0 ? 0 : l2;\r\n\r\n        color.style.background = \"linear-gradient(hsl(\"+h+\", \"+s+\"%, \"+l+\"%), hsl(\"+h2+\", \"+s+\"%, \"+l2+\"%))\";\r\n    });\r\n\r\n    colorInputs[i].addEventListener(eventEnd, (e) => {\r\n        stopGain(defaultEase);\r\n    });\r\n};\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////// ECOUTE D'UNE IMAGE //////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\n// Affiche le bon message en fonction du device\r\nlet deviceAction2 = window.matchMedia(\"(min-width: 900px)\").matches ? \"l'explorateur de fichiers\" : \"ma galerie\";\r\nbtnUpload.innerHTML = \"Ouvrir \" + deviceAction2;\r\n\r\n\r\n\r\n// Présélectionne une image\r\nimageSelection[0].classList.add('selected');\r\ncreatePalette(imgToListen);\r\n\r\nroot.style.setProperty('--colorNumber', colorNumber.value);\r\n\r\n\r\n\r\n// Réglage de la vitesse de lecture\r\nplayRate.addEventListener('input', (e) => {\r\n    speed = playRate.value * -1;\r\n    playRateSpan.innerHTML = playRate.value * -1;\r\n});\r\n\r\n\r\n\r\n// Réglage du nombre de couleurs\r\ncolorNumber.addEventListener(eventStart, (e) => {\r\n    colorList.classList.add('edition');\r\n});\r\n\r\ncolorNumber.addEventListener('input', (e) => {\r\n    colorNumberSpan.innerHTML = colorNumber.value;\r\n\r\n    if (window.matchMedia(\"(min-width: 900px)\").matches == false) {\r\n        if (colorNumber.value > 5) {\r\n            colorList.classList.add('big');\r\n        }else {\r\n            colorList.classList.remove('big');\r\n        }\r\n    }\r\n\r\n    root.style.setProperty('--colorNumber', colorNumber.value);\r\n});\r\n\r\ncolorNumber.addEventListener(eventEnd, (e) => {\r\n    createPalette(imgToListen);\r\n    colorList.classList.remove('edition');\r\n});\r\n\r\n\r\n\r\n// Ouvre la sélection\r\nbtnOpenSelection.addEventListener('click', (e) => {\r\n    btnOpenSelection.classList.toggle('selection-open');\r\n});\r\n\r\n\r\n\r\n// Change l'image avec l'image sélectionnée\r\nimageSelection.forEach(image => {\r\n    image.addEventListener('click', (e) => {\r\n        let currentTarget = e.currentTarget;\r\n        let pastTarget = document.querySelector('.selected');\r\n        currentTarget.classList.add('selected');\r\n        \r\n        // Vérifie si ils sont null avant d'ajouter ou retirer la class\r\n        pastTarget != null ? pastTarget.classList.remove('selected') : console.log('selection added');\r\n        \r\n        // Children[0] car currentTarget est \"li\" et non \"li > img\"\r\n        let imgName = currentTarget.children[0].currentSrc.slice(-16);\r\n        \r\n        if (imgName.includes(\"@2x\") == true) {\r\n            imgName = imgName.slice(0, imgName.length - 7);\r\n        }else {\r\n            imgName = imgName.slice(3, imgName.length - 4);\r\n        }\r\n\r\n        // Change les liens et crée une palette - (nom de l'image, image externe)\r\n        changeImageToListen(imgName, false);\r\n    });\r\n});\r\n\r\n\r\n\r\n// Upload d'une image\r\nbtnUpload.addEventListener('click', (e) => {\r\n     inputUpload.click();\r\n     //Actualise l'image uploadée\r\n     inputUpload.addEventListener('change', (e) => {\r\n        // Retire la class \"selected\" de l'image précédement sélectionnée\r\n        let pastTarget = document.querySelector('.selected');\r\n        pastTarget != null ? pastTarget.classList.remove('selected') : console.log('selection removed');\r\n\r\n        let imgLink = URL.createObjectURL(e.target.files[0]);        \r\n\r\n        // Change les liens et crée une palette - (nom de l'image, image externe)\r\n        changeImageToListen(imgLink, true);\r\n    });\r\n});\r\n\r\n\r\n\r\n//Récupère les couleurs de l'image et les joue\r\nplayImageBtn.addEventListener('click', (e) => {\r\n    let gains = [],\r\n        frqs = [],\r\n        hsls = [];\r\n\r\n    for (let i = 0; i < colorList.childNodes.length; i++) {\r\n        let color = root.style.getPropertyValue('--palette-color-' + (i+1)).match(/\\d+/g).map(Number);\r\n        hsls.push(color);\r\n        \r\n        let gain = setGain(color[1],color[2]),\r\n            frq = setFrequency(color[0],color[1],color[2]);\r\n\r\n        gains.push(gain);\r\n        frqs.push(frq);\r\n\r\n        setTimeout(() => {\r\n            playArray(i, speed, gains, frqs, hsls);\r\n        }, speed);\r\n    }\r\n\r\n    setTimeout(() => {\r\n        stopGain(defaultEase);\r\n    }, (speed * colorList.childNodes.length) + speed);\r\n});\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n////////////////////////////// PAD ////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\n// Assigne une couleur à chaque touche\r\npianoBtn.forEach(btn => {\r\n    h = h + 39;\r\n    actualisePadBtnColor(btn, h);\r\n});\r\n\r\n// Permets de rentreret sortir en mode \"modification\" des boutons \r\neditBtn.addEventListener('click', (e) => {\r\n    sectionPiano.classList.add('pad-modify');   \r\n});\r\n\r\nsaveBtn.addEventListener('click', (e) => {\r\n    sectionPiano.classList.remove('pad-modify');   \r\n});\r\n\r\n// Pour chaque touches du piano\r\npianoBtn.forEach(btn => {\r\n    btn.addEventListener(eventStart, (e) => {\r\n        \r\n        //Récupère la couleur appuyée\r\n        let targetBtn = e.currentTarget;\r\n\r\n        // Récupère la couleur de la touche\r\n        let hslColor = getHslFromAttribute(targetBtn),\r\n            h = hslColor[0],\r\n            s = hslColor[1],\r\n            l = hslColor[2];\r\n\r\n        // LE PAD EST EN MODE \"MODIFICATION\"\r\n        if (sectionPiano.classList.contains('pad-modify') == true) {\r\n            playNote(h,s,l);\r\n            stopGain(0.2);\r\n            \r\n            // Affiche et déplace le slider de modification en dessous de la touche sélectionnée\r\n            sectionPiano.classList.add('edition');\r\n            editDiv.style.top = (targetBtn.offsetTop + editDiv.offsetHeight) + \"px\";\r\n            editDivIndicator.style.left = targetBtn.offsetLeft + \"px\";\r\n            \r\n            // Bouton permettant de masquer le slider\r\n            confirmEdit.addEventListener('click', (e) => {\r\n                sectionPiano.classList.remove('edition');\r\n                targetBtn.classList.remove('pad-btn-active')\r\n            });\r\n\r\n            // Sélection d'une couleur\r\n            if (targetBtn.classList.contains('pad-btn-active') == false) {\r\n                // Actualise le bouton actif\r\n                let pastTarget = document.querySelector('.pad-btn-active');\r\n                targetBtn.classList.add('pad-btn-active');\r\n                pastTarget != null ? pastTarget.classList.remove('pad-btn-active') : console.log('No pastTarget');\r\n                \r\n                // Actualise les valeurs du slider avec la couleur actuelle du bouton\r\n                hslColor = getHslFromAttribute(targetBtn);\r\n                editInput.value = hslColor[0];\r\n            }\r\n        // LE PAD N'EST PAS EN MODE \"MODIFICATION\"\r\n        }else{\r\n            playNote(h,s,l);\r\n            btn.addEventListener(eventEnd, (e) => {\r\n                stopGain(defaultEase);\r\n            });\r\n        }\r\n    });\r\n    \r\n});\r\n\r\n// L'orsqu'un slider bouge - modifie la couleur active\r\neditInput.addEventListener('input', (e) => {\r\n    let h = editInput.value;\r\n    let actualBtn = document.querySelector('.pad-btn-active');\r\n    \r\n    // Actualise la couleur du bouton\r\n    actualisePadBtnColor(actualBtn, h);\r\n    playNote(h,100,50);\r\n});\r\n\r\neditInput.addEventListener(eventEnd, (e) => {\r\n    stopGain(defaultEase);\r\n});\r\n\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n/////////////////////////// Piano /////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\n// Assiciation d'une fréquence à chaque touches\r\nvar notes = {\r\n    \"a\": \"150\",\r\n    \"z\": \"170\",\r\n    \"e\": \"190\",\r\n    \"r\": \"210\",\r\n    \"t\": \"230\",\r\n    \"y\": \"250\",\r\n    \"u\": \"270\",\r\n    \"i\": \"290\",\r\n    \"o\": \"310\",\r\n    \"p\": \"330\",\r\n    \"q\": \"350\",\r\n    \"s\": \"370\",\r\n    \"d\": \"390\",\r\n    \"f\": \"410\",\r\n    \"g\": \"430\",\r\n    \"h\": \"450\",\r\n    \"j\": \"470\",\r\n    \"k\": \"490\",\r\n    \"l\": \"510\",\r\n    \"m\": \"530\",\r\n    \"w\": \"550\",\r\n    \"x\": \"570\",\r\n    \"c\": \"590\",\r\n    \"v\": \"610\",\r\n    \"b\": \"630\",\r\n    \"n\": \"650\",\r\n    \",\": \"670\",\r\n    \";\": \"690\", \r\n    // De plus hautes fréquences ne sont pas associable avec les paramètres de couleur actuels\r\n    \":\": \"690\",\r\n    \"=\": \"690\"};\r\n\r\n// Récupère la touche jouée et joue la fréquence qui lui est associée\r\ndocument.addEventListener('keydown', (e) => {\r\n    let key = e.key;\r\n\r\n    // Si la page est celle du piano clavier, on prends en compte l'appuis clavier\r\n    if(body.getAttribute('data-page') == \"piano\") {\r\n\r\n        // Permet de ne pas répéter l'événement 'keydown' lors d'un appuis enfoncé\r\n        if(down) return;\r\n        down = true;\r\n\r\n        // Si une fréquence est assigné à la touche, on la joue\r\n        if (notes[key] != null) {\r\n            let frq = notes[key],\r\n                color = 0;\r\n\r\n            // Assigne la valeur de gain et fréquence\r\n            o.frequency.setValueAtTime(frq, context.currentTime);\r\n            g.gain.setTargetAtTime(1, context.currentTime, 0.002);\r\n            \r\n            \r\n            // Cherche une couleur correspondant à la fréquence\r\n            do {\r\n                h = randomMinMax(0, 360);\r\n                s = 100;\r\n                l = randomMinMax(50, 60);\r\n                color = setFrequency(h, s, l);\r\n            } while (frq != color);\r\n\r\n            // Assignation de la couleur et d'un class de transition\r\n            let size = randomMinMax(25, 60),\r\n                blur = size * 3,\r\n                top = randomMinMax((size/-2), 100) - (size/2),\r\n                left = randomMinMax((size/-2), 100) - (size/2);\r\n\r\n            let colorDiv = document.createElement('div');\r\n\r\n            colorDiv.style.backgroundColor = 'hsl('+h+', '+s+'%, '+l+'%)';\r\n            colorDiv.style.filter = 'blur('+blur+'px)';\r\n\r\n            colorDiv.style.left = left + 'vw';\r\n            colorDiv.style.bottom = top + 'vh';\r\n\r\n            colorDiv.style.width = size + 'vw';\r\n            colorDiv.style.height = size + 'vw';\r\n            colorDiv.classList.add('piano-color-el');\r\n            pianoColor.appendChild(colorDiv);\r\n\r\n            // Cache le message\r\n            pianoSvg.style.opacity = 0;\r\n\r\n\r\n            // Lorsqu'on lâche la touche, le son s'arrête et la couleur passe au blanc\r\n            document.addEventListener('keyup', (e) => {\r\n                colorDiv.classList.add('piano-color-el-fadeOut');\r\n                colorDiv.addEventListener('animationend', (e) => {\r\n                    colorDiv.remove();\r\n                });\r\n\r\n                stopGain(0.2);\r\n            \r\n                down = false;\r\n            }, false);\r\n        }\r\n    }\r\n}, false);\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n//////////////////////////// INFO MENU ////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\n// Ouvrir/fermer le menu\r\nnavBtnOpen.addEventListener('click', (e) => {\r\n    nav.classList.add('open');\r\n});\r\nnavBtnClose.addEventListener('click', (e) => {\r\n    nav.classList.remove('open');\r\n});\r\n\r\nnavElements.forEach(element => {\r\n    element.addEventListener('click', (e) => {\r\n        nav.classList.toggle('open');\r\n    });\r\n});\r\n\r\n// Actualise le menu en fonction du scroll\r\ninfoSection.addEventListener('scroll', () => {\r\n    for (let i = 0; i < anchors.length; i++) {  \r\n        if (infoSection.scrollTop >= anchors[i].offsetTop - (window.innerHeight/2)) {\r\n            navElements.forEach(element => {\r\n                element.classList.remove('current');\r\n            });\r\n            if(navElements[i].classList.contains('current') == false) {\r\n                navElements[i].classList.add('current');\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    if (window.matchMedia(\"(min-width: 900px)\").matches) {\r\n        // Peut être optimisé\r\n        if (isCollide(nav, gist[0]) == false &&\r\n            isCollide(nav, gist[1]) == false &&\r\n            isCollide(nav, gist[2]) == false) {\r\n            nav.classList.remove('hide');\r\n        }else {\r\n            nav.classList.add('hide')\r\n        }\r\n    }\r\n});\r\n\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////// MY FUNCTIONS ////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\nfunction changeImageToListen(imgLink, external) {\r\n    // animations\r\n    imageModule.classList.add('change');\r\n    imgToListen.addEventListener('animationend', (e) => {\r\n        // à la fin du fadeOut on change l'image\r\n        if(e.animationName === 'fadeOut'){\r\n            console.log(imgLink);\r\n            if (external == false) {  \r\n                backgroundImg.setAttribute('src', 'assets/images/toListen/'+ imgLink +'.jpg');\r\n                imgToListen.setAttribute('src', 'assets/images/toListen/'+ imgLink +'.jpg');\r\n        \r\n                backgroundImg.setAttribute('srcset', 'assets/images/toListen/'+ imgLink +'@2x.jpg 2x');\r\n                imgToListen.setAttribute('srcset', 'assets/images/toListen/'+ imgLink +'@2x.jpg 2x');\r\n                imageModule.classList.remove('change');\r\n                imageModule.classList.add('loading');  \r\n            }else{\r\n                backgroundImg.setAttribute('src', imgLink);\r\n                imgToListen.setAttribute('src', imgLink);\r\n                backgroundImg.setAttribute('srcset', \"\");\r\n                imgToListen.setAttribute('srcset', \"\");\r\n                imageModule.classList.remove('change');\r\n                imageModule.classList.add('loading');\r\n            }\r\n        }\r\n\r\n        if (imgToListen.complete) {\r\n            createPaletteOnLoad(imgToListen);\r\n            imageModule.classList.remove('loading');\r\n            imageModule.classList.add('changeDone');\r\n        }else {\r\n            imgToListen.addEventListener('load', function() {\r\n                createPaletteOnLoad(imgToListen);\r\n                imageModule.classList.remove('loading');\r\n                imageModule.classList.add('changeDone');\r\n            });\r\n        }\r\n\r\n        // retire les classes d'animations lorsqu'elles sont terminées\r\n        if(e.animationName === 'bounceIn'){\r\n            imageModule.classList.remove('changeDone');\r\n            createPalette(imgToListen);\r\n        }\r\n    });\r\n}\r\n\r\n// Permet de jouer un tableau de notes sans actualiser \"played color\"\r\nfunction playArrayWithoutColor(i, speed, gains, frqs) {\r\n    setTimeout(function() {\r\n        g.gain.setTargetAtTime(gains[i], context.currentTime, 0.002);\r\n        o.frequency.setValueAtTime(frqs[i], context.currentTime);\r\n        \r\n        g.gain.setTargetAtTime(0, context.currentTime+0.002, speed/1500);\r\n    }, i*speed);\r\n}\r\n\r\n// Permet de jouer un tableau de notes\r\nfunction playArray(i, speed, gains, frqs, hsls) {\r\n    setTimeout(function() {\r\n        g.gain.setTargetAtTime(gains[i], context.currentTime, 0.002);\r\n        o.frequency.setValueAtTime(frqs[i], context.currentTime);\r\n\r\n        playedColors.classList.remove('hide');\r\n        root.style.setProperty('--played-color', 'hsla('+ hsls[i][0] +', '+ hsls[i][1] +'%, '+ hsls[i][2] +'%, '+gains[i]+')');\r\n        \r\n        g.gain.setTargetAtTime(0, context.currentTime+0.002, speed/1500);\r\n    }, i*speed);\r\n}\r\n\r\n// Permet de jouer une note\r\nfunction playNote(h,s,l) {\r\n    let frq = setFrequency(h,s,l),\r\n        gain = setGain(l,s);\r\n\r\n    g.gain.setTargetAtTime(gain, context.currentTime, 0.002);\r\n    o.frequency.setValueAtTime(frq, context.currentTime);\r\n\r\n    playedColors.classList.remove('hide');\r\n    root.style.setProperty('--played-color', 'hsla('+ h +', '+ s +'%, '+ l +'%, '+gain+')');\r\n}\r\n\r\nfunction actualisePadBtnColor(btn, h) {\r\n    let id = btn.getAttribute('id').slice(-1);\r\n    root.style.setProperty('--pad-btn-color-'+id, 'hsl('+ h +', 100%, 50%)');\r\n}\r\n\r\n// Stop le gain et cache \"played color\"\r\nfunction stopGain(ease) {\r\n    g.gain.setTargetAtTime(0, context.currentTime, ease);\r\n    playedColors.classList.add('hide');\r\n}\r\n\r\n// Vérifie que l'image soit chargée avant de créer la pallette\r\nfunction createPalette(image) {\r\n    if (image.complete) {\r\n        createPaletteOnLoad(image);\r\n    }else {\r\n        image.addEventListener('load', function() {\r\n            createPaletteOnLoad(image);\r\n        });\r\n    }\r\n}\r\n\r\n// Crée une pallette avec une image\r\nfunction createPaletteOnLoad(image) {\r\n    colorList.innerHTML = \"\";\r\n    \r\n    const palette = colorThief.getPalette(image, Number(colorNumber.value));\r\n    \r\n    for (let i = 0; i < palette.length; i++) {\r\n    \r\n        let hslColor = RGBToHSL(palette[i][0], palette[i][1], palette[i][2]);    \r\n        \r\n        // Crée un élement HTML auquel il assigne la couleur\r\n        let color = document.createElement('li');\r\n        color.classList.add('color-list-el');\r\n        root.style.setProperty('--palette-color-'+(i+1), 'hsl('+ hslColor[0] +', '+ hslColor[1] +'%, '+ hslColor[2] +'%)');\r\n        \r\n        color.addEventListener('animationend', (e) => {\r\n            color.style.opacity = 1;\r\n        });\r\n\r\n        colorList.appendChild(color);\r\n    }\r\n}\r\n\r\n// Récupère les valeurs h s et l depuis les attributs de l'élément\r\nfunction getHslFromAttribute(element) {\r\n    let id = element.getAttribute('id').slice(-1);\r\n    let hsls = root.style.getPropertyValue('--pad-btn-color-' + id).match(/\\d+/g).map(Number);\r\n    return hsls;\r\n}\r\n\r\n// Calcule le gain\r\nfunction setGain(lum, sat) {\r\n    if(lum >= 50) {\r\n        lum = 100 - lum;\r\n    }\r\n\r\n    let gainValue = (sat/100)*(lum/100);\r\n    \r\n    gainValue = (Math.round(gainValue * 100) / 100)*2;\r\n\r\n    return gainValue;\r\n}\r\n\r\n// Calcule la fréquence\r\nfunction setFrequency(h, s, l) {\r\n    \r\n    h = Number(h);\r\n    s = Number(s);\r\n    l = Number(l);\r\n    \r\n    // Convertis la couleur HSL en RGB sans tenir compte de la saturation - celle-ci est gérée apprès\r\n    let rgbColor = HSLtoRGB(h, 80, l);\r\n    \r\n    // Donne une ordre d'importance au R G et B\r\n    frq = Math.round(rgbColor[0]*0.9 + rgbColor[1]*2 + rgbColor[2]*0.3);\r\n\r\n    // Prise en compte de la saturation - elle influe sur le gain et s'ajoute à la valeur de la fréquence\r\n    frq = frq - 100 + s;\r\n\r\n    frq = Math.round(frq);\r\n\r\n    // Empêche de descendre dans des valeurs négatives\r\n    if (frq < 0) {\r\n        frq = 0;\r\n    }\r\n\r\n    return frq;\r\n}\r\n\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////// OTHERS FUNCTIONS ////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\n//source: https://gist.github.com/brunomonteiro3/27af6d18c2b0926cdd124220f83c474d\r\nfunction randomMinMax(min,max){\r\n    return Math.floor(Math.random()*(max-min+1)+min);\r\n}\r\n\r\n// https://codepen.io/dropinks/pen/MrzPXB\r\nfunction isCollide(el1, el2) {\r\n    var element1 = el1.getBoundingClientRect();\r\n    var element2 = el2.getBoundingClientRect();\r\n\r\n    return !(\r\n        ((element1.top + element1.height) < (element2.top + 50)) ||\r\n        (element1.top > (element2.top + element2.height - 50))\r\n    );\r\n}\r\n\r\n// CSS TRICK LICENCE  -  https://css-tricks.com/license/\r\n//source: https://css-tricks.com/converting-color-spaces-in-javascript/\r\n//Convertit ma valeur HSL vers RGB\r\nfunction HSLtoRGB(h,s,l) {\r\n\r\n    // doit être une fraction de 1\r\n    s /= 100;\r\n    l /= 100;\r\n\r\n    let c = (1 - Math.abs(2 * l - 1)) * s,\r\n        x = c * (1 - Math.abs((h / 60) % 2 - 1)),\r\n        m = l - c/2,\r\n        r = 0,\r\n        g = 0,\r\n        b = 0;\r\n\r\n\r\n    if (0 <= h && h < 60) {\r\n    r = c; g = x; b = 0;  \r\n    } else if (60 <= h && h < 120) {\r\n    r = x; g = c; b = 0;\r\n    } else if (120 <= h && h < 180) {\r\n    r = 0; g = c; b = x;\r\n    } else if (180 <= h && h < 240) {\r\n    r = 0; g = x; b = c;\r\n    } else if (240 <= h && h < 300) {\r\n    r = x; g = 0; b = c;\r\n    } else if (300 <= h && h < 360) {\r\n    r = c; g = 0; b = x;\r\n    }\r\n\r\n    return [Math.round((r + m) * 255), Math.round((g + m) * 255), Math.round((b + m) * 255)];\r\n}\r\n\r\n  function RGBToHSL(r,g,b) {\r\n    // Make r, g, and b fractions of 1\r\n    r /= 255;\r\n    g /= 255;\r\n    b /= 255;\r\n  \r\n    // Find greatest and smallest channel values\r\n    let cmin = Math.min(r,g,b),\r\n        cmax = Math.max(r,g,b),\r\n        delta = cmax - cmin,\r\n        h = 0,\r\n        s = 0,\r\n        l = 0;\r\n\r\n    // Calculate hue\r\n    // No difference\r\n    if (delta == 0)\r\n    h = 0;\r\n    // Red is max\r\n    else if (cmax == r)\r\n    h = ((g - b) / delta) % 6;\r\n    // Green is max\r\n    else if (cmax == g)\r\n    h = (b - r) / delta + 2;\r\n    // Blue is max\r\n    else\r\n    h = (r - g) / delta + 4;\r\n\r\n    h = Math.round(h * 60);\r\n    \r\n    // Make negative hues positive behind 360°\r\n    if (h < 0)\r\n    h += 360;\r\n\r\n    // Calculate lightness\r\n    l = (cmax + cmin) / 2;\r\n\r\n    // Calculate saturation\r\n    s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\r\n        \r\n    // Multiply l and s by 100\r\n    s = +(s * 100).toFixed(1);\r\n    l = +(l * 100).toFixed(1);\r\n\r\n    return [Math.round(h), Math.round(s), Math.round(l)];\r\n  }\r\n\r\n//SMOOTH SCROLL ONLY ON ANCHOR BUTTONS - Permet de reset le scroll de la page info sans l'animation du smooth scroll\r\n//source: https://stackoverflow.com/questions/7717527/smooth-scrolling-when-clicking-an-anchor-link\r\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n    anchor.addEventListener('click', function (e) {\r\n        e.preventDefault();\r\n  \r\n        document.querySelector(this.getAttribute('href')).scrollIntoView({\r\n            behavior: 'smooth'\r\n        });\r\n    });\r\n});","// removed by extract-text-webpack-plugin"],"sourceRoot":""}