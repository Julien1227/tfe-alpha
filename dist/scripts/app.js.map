{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/app.js","webpack:///./src/styles/app.scss"],"names":["window","AudioContext","webkitAudioContext","context","o","createOscillator","g","createGain","gain","value","frequency","type","connect","destination","frq","root","document","documentElement","eventStart","eventEnd","matchMedia","matches","defaultEase","sectionIntro","querySelector","letters","querySelectorAll","count","playedColors","body","navBtn","pianoSvg","infoSection","creditBtn","transition","colorInput","colorSpan","actualNote","getElementById","color","colorInputs","colorSpans","speed","playRate","playRateSpan","colorNumberSpan","colorNumber","playImageBtn","imgToListen","backgroundImg","imageModule","btnUpload","btnOpenSelection","imageSelection","inputUpload","colorList","colorThief","ColorThief","padBtn","tuto","closeTuto","confirmEdit","editBtn","randomBtn","editDiv","editDivIndicator","saveBtn","editInput","sectionPad","h","pianoColor","s","l","down","navBtnOpen","navBtnClose","nav","gist","anchors","navElements","addEventListener","event","frqs","gains","hsls","start","classList","add","randomH","randomMinMax","forEach","element","setGain","setFrequency","push","style","setProperty","e","opacity","i","setTimeout","playArrayWithoutColor","length","stopGain","display","removeProperty","console","log","transitionColor","target","currentTarget","pastTarget","remove","page","getAttribute","animationName","setAttribute","scrollTop","btn","toggle","input","playNote","innerHTML","Number","h2","l2","background","createPalette","width","image","contains","requestAnimationFrame","imgName","children","currentSrc","slice","includes","changeImageToListen","click","imgLink","URL","createObjectURL","files","htmlEl","childNodes","rgbColor","match","map","hslColor","RGBToHSL","playArray","actualisePadBtnColor","targetBtn","getColorFromAttribute","top","offsetTop","offsetHeight","left","offsetLeft","actualBtn","backgroundColor","removeAttribute","notes","key","setValueAtTime","currentTime","setTargetAtTime","size","blur","colorDiv","createElement","filter","bottom","height","appendChild","innerHeight","isCollide","actualisePlayedColor","id","ease","getPropertyValue","lum","sat","gainValue","Math","round","HSLtoRGB","complete","createPaletteOnLoad","palette","getPalette","external","min","max","floor","random","el1","el2","element1","getBoundingClientRect","element2","c","abs","x","m","r","b","cmin","cmax","delta","toFixed","anchor","preventDefault","scrollIntoView","behavior"],"mappings":"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","file":"/scripts/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\n\n// Création d'un oscillateur et gain avec la web audio API\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext;\nvar context = new AudioContext();\n\nvar o = context.createOscillator();\nvar g = context.createGain();\ng.gain.value = 0;\no.frequency.value = 0;\no.type = \"triangle\";\n\ng.connect(context.destination);\no.connect(g);\n\nvar frq = 0,\n    gain = 0;\n\nvar root = document.documentElement;\n\n// Défini la bon event à écouter - touch ou mouse\nvar eventStart = \"\";\nvar eventEnd = \"\";\nif (window.matchMedia(\"(min-width: 900px)\").matches) {\n    // Desktop - mouseevent\n    eventStart = 'mousedown';\n    eventEnd = 'mouseup';\n} else {\n    // Tablet - touchevent\n    eventStart = 'touchstart';\n    eventEnd = 'touchend';\n}\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////// VARIABLES ///////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\nvar defaultEase = 0.1;\n\n//////////////////////////////////////\n//////////// INTRODUCTION ////////////\n//////////////////////////////////////\n\nconst sectionIntro = document.querySelector('.section-intro'),\n      letters = document.querySelectorAll('.h1-letter');\n\nvar count = 1;\n\nconst playedColors = document.querySelector('.played-color');\n\n\n//////////////////////////////////////\n//////////// NAVIGUATION /////////////\n//////////////////////////////////////\n\nconst body = document.querySelector('body'),\n      navBtn = document.querySelectorAll('.menu-btn'),\n      pianoSvg = document.querySelector('.section-piano-svg'),\n      infoSection = document.querySelector('.section-info'),\n      creditBtn = document.querySelectorAll('.section-header-creditBtn'),\n      transition = document.querySelector('.transition');\n\n\n//////////////////////////////////////\n//////// ECOUTE D'UNE COULEUR ////////\n////////////////////////////////////// \n\nvar colorInput = document.querySelectorAll('.colorInput'),\n    colorSpan = document.querySelectorAll('.colorSpan'),\n    actualNote = document.getElementById('playedColor');\n\nconst color = document.getElementById('module-color');\n\nvar colorInputs = [],\n    colorSpans = [];\n\n\n//////////////////////////////////////\n//////// ECOUTE D'UNE IMAGE //////////\n//////////////////////////////////////\n\nvar speed = 120;\nconst playRate = document.getElementById('playRate'),\n      playRateSpan = document.getElementById('playRateSpan'),\n      colorNumberSpan = document.getElementById('colorNumberSpan'),\n      colorNumber = document.getElementById('colorNumber');\n\nconst playImageBtn = document.getElementById('getColors'),\n      imgToListen = document.querySelector('.section-module-image1'),\n      backgroundImg = document.querySelector('.section-module-image2'),\n      imageModule = document.querySelector('.section-image .section-module'),\n      btnUpload = document.getElementById('uploadBtn'),\n      btnOpenSelection = document.getElementById('btnOpenSelection'),\n      imageSelection = document.querySelectorAll('.selection-image-el'),\n      inputUpload = document.getElementById('uploadInput'),\n      colorList = document.querySelector('.color-list');\n\nconst colorThief = new ColorThief();\n\n\n//////////////////////////////////////\n//////////////// PAD /////////////////\n////////////////////////////////////// \n\nconst padBtn = document.querySelectorAll('.pad-btn'),\n      tuto = document.querySelector('.pad-tuto'),\n      closeTuto = document.getElementById('closeTuto'),\n      confirmEdit = document.getElementById('confirmEdit'),\n      editBtn = document.querySelector('.btn-edit'),\n      randomBtn = document.querySelector('.btn-random'),\n      editDiv = document.querySelector('.pad-editor'),\n      editDivIndicator = document.querySelector('.editor-indicator'),\n      saveBtn = document.querySelector('.btn-save'),\n      editInput = document.querySelector('.editor-slider'),\n      sectionPad = document.querySelector('.section-pad');\n      \nvar h = 0;\n\n\n//////////////////////////////////////\n////////////// PIANO /////////////////\n////////////////////////////////////// \n\nconst pianoColor = document.querySelector('.section-piano-color');\n\nvar h = 0,\n    s = 0,\n    l = 0,\n    down = false;\n\n\n//////////////////////////////////////\n////NAVIGATION DE LA SECTION INFO/////\n//////////////////////////////////////\n\nconst navBtnOpen = document.querySelector('.nav-btn-open'),\n      navBtnClose = document.querySelector('.nav-btn-close'),\n      nav = document.getElementById('nav'),\n      gist = document.querySelectorAll('.container-code .gist'),\n      anchors = document.querySelectorAll('.anchor'),\n      navElements = document.querySelectorAll('.navigation-list-el');\n\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n////////////////// INTRODUCTION + START API ///////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\nsectionIntro.addEventListener('click', (event) => {\n    \n    let frqs = [],\n        gains = [],\n        hsls = [];\n\n    o.start(0);\n    \n    sectionIntro.classList.add('play');\n    let randomH = randomMinMax(0, 360);\n    letters.forEach(element => {\n\n        //Crée la couleur en HSL pour jouer la note plus tard\n        let h = (randomH + (randomMinMax(30, 40) * count)) % 360,\n            s = randomMinMax(80, 100),\n            l = randomMinMax(50, 60);\n                        \n        let gain = setGain(l, s),\n            frq = setFrequency( h, s, l);\n\n        gains.push(gain);\n        frqs.push(frq);\n        hsls.push([h, s, l]);\n\n        root.style.setProperty('--h1l-'+count, \"hsl(\"+ h +\", \"+ s +\"%, \"+ l +\"%)\");\n        \n        element.addEventListener('animationend', (e) => {\n            element.style.opacity = 1;\n            element.classList.add('end');\n        });\n\n        count++;\n    });\n\n    for (let i = 1; i < letters.length; i++) {\n        setTimeout(() => {\n            playArrayWithoutColor(i, 110, gains, frqs);\n        }, 280);\n    }\n\n    // Après que toutes les lettres aient joué.\n    setTimeout(() => {\n        stopGain(defaultEase);\n        sectionIntro.classList.add('hide');\n        sectionIntro.addEventListener('animationend', (e) => {\n            sectionIntro.style.display = \"none\";\n            for (let i = 1; i < letters.length+1; i++) {\n                root.style.removeProperty('--h1l-'+i);\n                console.log(i);\n            }\n        });\n    }, (letters.length * 100) + 1500);\n});\n\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n/////////////////////////// NAVIGUATION ///////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\nvar transitionColor = 0;\n\nnavBtn.forEach(element => {\n    element.addEventListener('click', (e) => {\n        \n        // Actualise le bouton du menu\n        let target = e.currentTarget;\n        var pastTarget = document.querySelector('.menu-btn.active');\n        pastTarget != null ? pastTarget.classList.remove('active') : pastTarget = pastTarget;\n        target.classList.add('active');\n        \n        let page = target.getAttribute('id');\n        \n        if (pastTarget.getAttribute('id') == page) {\n            console.log('page déjà ouverte');\n        } else {\n            // Ferme la page \"crédits\" si elle est ouverte\n            body.classList.remove('show-credits');\n\n            transitionColor = transitionColor + randomMinMax(20, 100);\n\n            // Change la page\n            body.classList.add('hiding');\n            \n            ///transition.style.backgroundColor = \"hsl(\"+h+\", 100%, 50%)\";\n            root.style.setProperty(\"--tr-c\", \"hsl(\"+transitionColor+\", 100%, 50%)\");\n    \n            body.addEventListener('animationend', (e) => {\n                if(e.animationName === 'animationChangeListener'){\n                    \n                    body.classList.remove('hiding');\n                    body.classList.add('showing');\n                    body.setAttribute('data-page', page);\n                    \n                    if (page == \"piano\") {\n                        // Refais apparaître le message du piano\n                        pianoSvg.style.opacity = \"1\";\n                    }else if (page == \"info\") {\n                        // Reset le scroll de la page malgré l'ancre\n                        infoSection.scrollTop = 0;\n                    }\n\n                } else if(e.animationName === 'animationEndListener'){\n                    body.classList.remove('showing');\n                    document.querySelector(\".section-info\").scrollTop = 0;\n                }\n\n                \n            });\n    \n            \n        }\n\n    });\n});\n\ncreditBtn.forEach(btn => { \n    btn.addEventListener('click', (e) => {\n        body.classList.toggle('show-credits');\n    });\n});\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////// ECOUTE D'UNE COULEUR ////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\ncolorInput.forEach((input) => {\n    colorInputs.push(input);\n});\n\ncolorSpan.forEach((colorSpan) => {\n    colorSpans.push(colorSpan);\n});\n\n\n//Lorsqu'un slider bouge :\nfor (let i = 0; i < colorInputs.length; i++) {\n    colorInputs[i].addEventListener('input', (e) => {\n\n        let h = colorInputs[0].value,\n            s = colorInputs[1].value,\n            l = colorInputs[2].value;\n\n        // Joue les paramètres et acualise la couleur du \"played-color\"\n        playNote(h,s,l);\n\n        // Affiche la fréquence jouée\n        actualNote.innerHTML = setFrequency(h,s,l) + \"Hz\";\n        \n        // Affiche la valeur du slider \n        colorSpans[i].innerHTML = colorInputs[i].value;\n        \n        // Affiche la couleur jouée\n        h = Number(h);\n        l = Number(l);\n        \n        let h2 = h+20,\n            l2 = l-5;\n\n        h2 = h2 > 359 ? 359 : h2;\n        l2 = l2 < 0 ? 0 : l2;\n\n        color.style.background = \"linear-gradient(hsl(\"+h+\", \"+s+\"%, \"+l+\"%), hsl(\"+h2+\", \"+s+\"%, \"+l2+\"%))\";\n    });\n\n    colorInputs[i].addEventListener(eventEnd, (e) => {\n        stopGain(defaultEase);\n    });\n};\n\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////// ECOUTE D'UNE IMAGE //////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n// Présélectionne une image\nimageSelection[0].classList.add('selected');\ncreatePalette(imgToListen);\n\n// Réglage de la vitesse de lecture\nplayRate.addEventListener('input', (e) => {\n    speed = playRate.value * -1;\n    playRateSpan.innerHTML = playRate.value * -1;\n});\n\n\n\n// Réglage du nombre de couleurs\ncolorNumber.addEventListener(eventStart, (e) => {\n    colorList.classList.add('edition');\n});\n\ncolorNumber.addEventListener('input', (e) => {\n    colorNumberSpan.innerHTML = colorNumber.value;\n    let width = 'calc((5rem + 0.5rem) * '+colorNumber.value+')';\n\n    if (window.matchMedia(\"(min-width: 900px)\").matches == false) {\n        if (colorNumber.value > 5) {\n            width = 'calc((15vw + 0.5rem) * 5)';\n            colorList.classList.add('big');\n        }else {\n            width = 'calc('+colorNumber.value+' * (15vw + 0.5rem))';\n            colorList.classList.remove('big');\n        }\n    }\n\n    colorList.style.width = width;\n});\n \ncolorNumber.addEventListener(eventEnd, (e) => {\n    createPalette(imgToListen);\n    colorList.classList.remove('edition');\n});\n\n\n\n\nif (window.matchMedia(\"(min-width: 900px)\").matches) {\n    // Ouvre la sélection après un click\n    btnOpenSelection.addEventListener('mouseover', (e) => {\n        btnOpenSelection.classList.add('open');\n    });\n    \n    btnOpenSelection.addEventListener('mouseout', (e) => {\n        btnOpenSelection.classList.remove('open');\n    });\n}else{\n    btnOpenSelection.addEventListener('click', (e) => {\n        btnOpenSelection.classList.toggle('open');\n    });\n}\n\n\n\n// Change l'image avec l'image sélectionnée\nimageSelection.forEach(image => {\n    image.addEventListener('click', (e) => {\n        \n        let currentTarget = e.currentTarget;\n        let pastTarget = document.querySelector('.selected');\n        \n        // Vérifie que l'image n'est pas déjà sélectionnée\n        if (currentTarget.classList.contains('selected') == true) {\n            console.log('Image déjà sélectionnée.');\n        }else{\n\n            // Ferme le menu de sélection\n            requestAnimationFrame(function(){\n                btnOpenSelection.classList.remove('open');\n            });\n\n            // Actualise l'image séléectionnée\n            currentTarget.classList.add('selected');\n            pastTarget != null ? pastTarget.classList.remove('selected') : console.log('selection added');\n\n            // Children[0] car currentTarget est \"li\" et non \"li > img\"\n            let imgName = currentTarget.children[0].currentSrc.slice(-16);\n            \n            if (imgName.includes(\"@2x\") == true) {\n                imgName = imgName.slice(0, imgName.length - 7);\n            }else {\n                imgName = imgName.slice(3, imgName.length - 4);\n            }\n    \n            // Change les liens et crée une palette - (nom de l'image, image externe)\n            changeImageToListen(imgName, false);\n        }\n        \n    });\n});\n\n\n\n// Upload d'une image\nbtnUpload.addEventListener('click', (e) => {\n     inputUpload.click();\n     //Actualise l'image uploadée\n     inputUpload.addEventListener('change', (e) => {\n        // Retire la class \"selected\" de l'image précédement sélectionnée\n        let pastTarget = document.querySelector('.selected');\n        pastTarget != null ? pastTarget.classList.remove('selected') : console.log('selection removed');\n\n        let imgLink = URL.createObjectURL(e.target.files[0]);        \n\n        // Change les liens et crée une palette - (nom de l'image, image externe)\n        changeImageToListen(imgLink, true);\n    });\n});\n\n\n\n//Récupère les couleurs de l'image et les joue\nplayImageBtn.addEventListener('click', (e) => {\n    let gains = [],\n        frqs = [],\n        hsls = [];\n\n    for (let i = 0; i < colorList.childNodes.length; i++) {\n        let htmlEl = colorList.childNodes[i],\n            rgbColor = htmlEl.getAttribute('style').match(/\\d+/g).map(Number),\n            hslColor = RGBToHSL(rgbColor[0], rgbColor[1], rgbColor[2]);\n\n        hsls.push(hslColor);\n        \n        let gain = setGain(hslColor[1],hslColor[2]),\n            frq = setFrequency(hslColor[0],hslColor[1],hslColor[2]);\n\n        gains.push(gain);\n        frqs.push(frq);\n\n        setTimeout(() => {\n            playArray(i, speed, gains, frqs, hsls);\n        }, speed);\n    }\n\n    setTimeout(() => {\n        stopGain(defaultEase);\n    }, (speed * colorList.childNodes.length) + speed);\n});\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n////////////////////////////// PAD ////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n// Permets de rentreret sortir en mode \"modification\" des boutons \neditBtn.addEventListener('click', (e) => {\n    sectionPad.classList.add('pad-modify');   \n});\n\nsaveBtn.addEventListener('click', (e) => {\n    confirmEdit.click();\n    sectionPad.classList.remove('pad-modify');\n});\n\n// Pour chaque touches du piano\npadBtn.forEach(btn => {\n    // Assigne une couleur à chaque touche\n    h = h + 39;\n    actualisePadBtnColor(btn, h);\n\n    btn.addEventListener(eventStart, (e) => {\n        \n        //Récupère la couleur appuyée\n        let targetBtn = e.currentTarget;\n\n        // Récupère la couleur de la touche\n        let h = getColorFromAttribute(targetBtn),\n            s = 100,\n            l = 50;\n\n        // LE PAD EST EN MODE \"MODIFICATION\"\n        if (sectionPad.classList.contains('pad-modify') == true) {\n            \n            // Affiche et déplace le slider de modification en dessous de la touche sélectionnée\n            sectionPad.classList.add('edition');\n            editDiv.style.top = (targetBtn.offsetTop + editDiv.offsetHeight) + \"px\";\n            editDivIndicator.style.left = targetBtn.offsetLeft + \"px\";\n\n            // Sélection d'une couleur\n            if (targetBtn.classList.contains('pad-btn-active') == false) {\n                // Actualise le bouton actif\n                let pastTarget = document.querySelector('.pad-btn-active');\n                targetBtn.classList.add('pad-btn-active');\n                pastTarget != null ? pastTarget.classList.remove('pad-btn-active') : console.log('No pastTarget');\n                \n                // Actualise les valeurs du slider avec la couleur actuelle du bouton\n                h = getColorFromAttribute(targetBtn);\n                editInput.value = h;\n            }\n        // LE PAD N'EST PAS EN MODE \"MODIFICATION\"\n        }else{\n            playNote(h,s,l);\n            btn.addEventListener(eventEnd, (e) => {\n                stopGain(defaultEase);\n            });\n\n            // Vérifie que l'on soit sur desktop et ue le bouton appuyé soit bien une touche du pad\n            if (window.matchMedia(\"(min-width: 900px)\").matches && btn.classList.contains('pad-btn')) {                    \n                body.addEventListener(\"mouseup\", (e) => {\n                    stopGain(defaultEase);\n                });\n            }\n        }\n    });\n    \n});\n\n// L'orsqu'un slider bouge - modifie la couleur active\neditInput.addEventListener('input', (e) => {\n    let h = editInput.value;\n    let actualBtn = document.querySelector('.pad-btn-active');\n    \n    actualBtn.style.backgroundColor = \"hsl(\"+h+\", 100%, 50%)\";\n\n    playNote(h, 100, 50);\n    \n});\n\n// Bouton permettant de masquer le slider et changer la variable de couleur\nconfirmEdit.addEventListener('click', (e) => {\n    // Obligé de redéclarer les variables utilisées dans la boucle si dessus\n    let actualBtn = document.querySelector('.pad-btn-active');\n    let h = editInput.value;\n\n    sectionPad.classList.remove('edition');\n    actualBtn.classList.remove('pad-btn-active');\n    actualisePadBtnColor(actualBtn, h);\n    actualBtn.removeAttribute('style');\n});\n\neditInput.addEventListener(eventEnd, (e) => {\n    stopGain(defaultEase);\n});\n\nif (window.matchMedia(\"(min-width: 900px)\").matches) {\n    randomBtn.addEventListener(\"mouseenter\", (e) => {\n        randomBtn.classList.add('hover');\n        randomBtn.addEventListener('animationend', (e) => {\n            randomBtn.classList.remove('hover');\n        });\n    });\n}\n\nrandomBtn.addEventListener(\"click\", (e) => {\n    randomBtn.classList.add('spin');\n    randomBtn.addEventListener('animationend', (e) => {\n        randomBtn.classList.remove('spin');\n    });\n    let h = randomMinMax(0, 360);\n    padBtn.forEach(btn => {\n        h = (h + randomMinMax(30, 50)) % 360;\n        actualisePadBtnColor(btn, h);\n    });\n});\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n/////////////////////////// Piano /////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n// Assiciation d'une fréquence à chaque touches\nvar notes = {\n    \"a\": \"160\",\n    \"z\": \"175\",\n    \"e\": \"190\",\n    \"r\": \"205\",\n    \"t\": \"220\",\n    \"y\": \"235\",\n    \"u\": \"250\",\n    \"i\": \"265\",\n    \"o\": \"280\",\n    \"p\": \"290\",\n    \"q\": \"305\",\n    \"s\": \"320\",\n    \"d\": \"335\",\n    \"f\": \"350\",\n    \"g\": \"365\",\n    \"h\": \"380\",\n    \"j\": \"390\",\n    \"k\": \"405\",\n    \"l\": \"420\",\n    \"m\": \"435\",\n    \"w\": \"450\",\n    \"x\": \"465\",\n    \"c\": \"480\",\n    \"v\": \"490\",\n    \"b\": \"505\",\n    \"n\": \"520\",\n    \",\": \"535\",\n    \";\": \"550\", \n    \":\": \"565\",\n    \"=\": \"580\",\n    \"!\": \"595\"\n};\n\n// Récupère la touche jouée et joue la fréquence qui lui est associée\ndocument.addEventListener('keydown', (e) => {\n    let key = e.key;\n\n    // Si la page est celle du piano clavier, on prends en compte l'appuis clavier\n    if(body.getAttribute('data-page') == 'piano') {\n\n        // Permet de ne pas répéter l'événement 'keydown' lors d'un appuis enfoncé\n        if(down) return;\n        down = true;\n\n        // Si une fréquence est assigné à la touche, on la joue\n        if (notes[key] != null) {\n            let frq = notes[key],\n                color = 0;\n\n            // Assigne la valeur de gain et fréquence\n            o.frequency.setValueAtTime(frq, context.currentTime);\n            g.gain.setTargetAtTime(1, context.currentTime, 0.002);\n            \n            \n            // Cherche une couleur correspondant à la fréquence\n            do {\n                h = randomMinMax(0, 360);\n                s = 100;\n                l = randomMinMax(45, 60);\n                color = setFrequency(h, s, l);\n            } while (frq != color);\n\n            // Assignation de la couleur et d'un class de transition\n            let size = randomMinMax(25, 60),\n                blur = size * 3,\n                top = randomMinMax(-(size/2), (100 - (size/2))),\n                left = randomMinMax(-(size/2), (100 - (size/2)));\n\n            let colorDiv = document.createElement('div');\n\n            colorDiv.style.backgroundColor = 'hsl('+h+', '+s+'%, '+l+'%)';\n            colorDiv.style.filter = 'blur('+blur+'px)';\n\n            colorDiv.style.left = left + 'vw';\n            colorDiv.style.bottom = top + 'vh';\n\n            colorDiv.style.width = size + 'vw';\n            colorDiv.style.height = size + 'vw';\n            colorDiv.classList.add('piano-color-el');\n            pianoColor.appendChild(colorDiv);\n\n            // Cache le message\n            pianoSvg.style.opacity = 0;\n\n\n            // Lorsqu'on lâche la touche, le son s'arrête et la couleur passe au blanc\n            document.addEventListener('keyup', (e) => {\n                colorDiv.classList.add('piano-color-el-fadeOut');\n                colorDiv.addEventListener('animationend', (e) => {\n                    colorDiv.remove();\n                });\n\n                stopGain(0.2);\n            \n                down = false;\n            }, false);\n        }\n    }\n}, false);\n\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n//////////////////////////// INFO MENU ////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n// Ouvrir/fermer le menu\nnavBtnOpen.addEventListener('click', (e) => {\n    nav.classList.add('open');\n});\nnavBtnClose.addEventListener('click', (e) => {\n    nav.classList.remove('open');\n});\n\nnavElements.forEach(element => {\n    element.addEventListener('click', (e) => {\n        nav.classList.toggle('open');\n    });\n});\n\n// Actualise le menu en fonction du scroll\ninfoSection.addEventListener('scroll', () => {\n    for (let i = 0; i < anchors.length; i++) {  \n        if (infoSection.scrollTop >= anchors[i].offsetTop - (window.innerHeight/2)) {\n            navElements.forEach(element => {\n                element.classList.remove('current');\n            });\n            if(navElements[i].classList.contains('current') == false) {\n                navElements[i].classList.add('current');\n            }\n        }\n\n    }\n\n    if (window.matchMedia(\"(min-width: 900px)\").matches) {\n        // Peut être optimisé\n        if (isCollide(nav, gist[0]) == false &&\n            isCollide(nav, gist[1]) == false &&\n            isCollide(nav, gist[2]) == false) {\n            nav.classList.remove('hide');\n        }else {\n            nav.classList.add('hide')\n        }\n    }\n});\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////// MY FUNCTIONS ////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n// Permet de jouer un tableau de notes sans actualiser \"played color\"\nfunction playArrayWithoutColor(i, speed, gains, frqs) {\n    setTimeout(function() {\n        g.gain.setTargetAtTime(gains[i], context.currentTime, 0.002);\n        o.frequency.setValueAtTime(frqs[i], context.currentTime);\n        \n        g.gain.setTargetAtTime(0, context.currentTime+0.002, speed/1500);\n    }, i*speed);\n}\n\n// Permet de jouer un tableau de notes\nfunction playArray(i, speed, gains, frqs, hsls) {\n    setTimeout(function() {\n        g.gain.setTargetAtTime(gains[i], context.currentTime, 0.002);\n        o.frequency.setValueAtTime(frqs[i], context.currentTime);\n\n        actualisePlayedColor(hsls[i][0], hsls[i][1], hsls[i][2], gains[i]);\n        \n        g.gain.setTargetAtTime(0, context.currentTime+0.002, speed/1500);\n    }, i*speed);\n}\n\n// Permet de jouer une note\nfunction playNote(h,s,l) {\n    let frq = setFrequency(h,s,l),\n        gain = setGain(l,s);\n\n    g.gain.setTargetAtTime(gain, context.currentTime, 0.002);\n    o.frequency.setValueAtTime(frq, context.currentTime);\n\n    actualisePlayedColor(h, s, l, gain);\n}\n\nfunction actualisePlayedColor(h, s, l, gain) {\n    if (window.matchMedia(\"(min-width: 900px)\").matches) {        \n        playedColors.classList.remove('hide');\n        playedColors.children[0].style.backgroundColor = 'hsla('+ h +', '+ s +'%, '+ l +'%, '+gain+')';\n        playedColors.children[1].style.backgroundColor = 'hsla('+ h +', '+ s +'%, '+ l +'%, '+gain+')';\n    }\n}\n\nfunction actualisePadBtnColor(btn, h) {\n    let id = btn.getAttribute('id').slice(-1);\n    root.style.setProperty('--pb-'+id, h);\n}\n\n// Stop le gain et cache \"played color\"\nfunction stopGain(ease) {\n    g.gain.setTargetAtTime(0, context.currentTime, ease);\n    playedColors.classList.add('hide');\n}\n\n\n// Récupère les valeurs h s et l depuis les attributs de l'élément\nfunction getColorFromAttribute(element) {\n    let id = element.getAttribute('id').slice(-1);\n    let h = root.style.getPropertyValue('--pb-' + id);\n    return h;\n}\n\n// Calcule le gain\nfunction setGain(lum, sat) {\n    if(lum >= 50) {\n        lum = 100 - lum;\n    }\n\n    let gainValue = (sat/100)*(lum/100);\n    \n    gainValue = (Math.round(gainValue * 100) / 100)*2;\n\n    return gainValue;\n}\n\n// Calcule la fréquence\nfunction setFrequency(h, s, l) {\n    \n    h = Number(h);\n    s = Number(s);\n    l = Number(l);\n    \n    // Convertis la couleur HSL en RGB sans tenir compte de la saturation - celle-ci est gérée apprès\n    let rgbColor = HSLtoRGB(h, 75, l);\n    \n    // Donne une ordre d'importance au R G et B\n    frq = Math.round(rgbColor[0]*0.9 + rgbColor[1]*2 + rgbColor[2]*0.3);\n\n    // Prise en compte de la saturation - elle influe sur le gain et s'ajoute à la valeur de la fréquence\n    frq = (frq * (s/100));\n\n    frq = Math.round(frq);\n\n    // Empêche de descendre dans des valeurs négatives\n    if (frq < 0 || s == 0 || l == 0) {\n        frq = 0;\n    }\n\n    return frq;\n}\n\n// Vérifie que l'image soit chargée avant de créer la pallette\nfunction createPalette(image) {\n    if (image.complete) {\n        createPaletteOnLoad(image);\n    }else {\n        image.addEventListener('load', function() {\n            createPaletteOnLoad(image);\n        });\n    }\n}\n\n// Crée une pallette avec une image\nfunction createPaletteOnLoad(image) {\n    colorList.innerHTML = \"\";\n    \n    const palette = colorThief.getPalette(image, Number(colorNumber.value));\n    \n    for (let i = 0; i < colorNumber.value; i++) {\n\n        let hslColor = RGBToHSL(palette[i][0], palette[i][1], palette[i][2]);\n        \n        // Création de la fréquence à l'interieur de la couleur\n        let frequency = document.createElement('p');\n        frequency.classList.add('color-list-el-frq');\n        frequency.innerHTML = setFrequency(hslColor[0], hslColor[1], hslColor[2]) + \"Hz\";\n\n        // Crée un élement HTML auquel il assigne la couleur\n        let color = document.createElement('li');\n        color.classList.add('color-list-el');\n        color.style.backgroundColor = 'hsl('+ hslColor[0] +', '+ hslColor[1] +'%, '+ hslColor[2] +'%)';\n        \n        color.addEventListener('animationend', (e) => {\n            color.classList.add('animationend');\n        });\n\n        color.appendChild(frequency);\n        colorList.appendChild(color);\n    }\n}\n\nfunction changeImageToListen(imgLink, external) {\n    // animations\n    imageModule.classList.add('change');\n    imgToListen.addEventListener('animationend', (e) => {\n        // à la fin du fadeOut on change l'image\n        if(e.animationName === 'fadeOut'){\n            if (external == false) {  \n                backgroundImg.setAttribute('src', 'assets/images/toListen/'+ imgLink +'.jpg');\n                imgToListen.setAttribute('src', 'assets/images/toListen/'+ imgLink +'.jpg');\n        \n                backgroundImg.setAttribute('srcset', 'assets/images/toListen/'+ imgLink +'@2x.jpg 2x');\n                imgToListen.setAttribute('srcset', 'assets/images/toListen/'+ imgLink +'@2x.jpg 2x');\n                imageModule.classList.remove('change');\n                imageModule.classList.add('loading');  \n            }else{\n                backgroundImg.setAttribute('src', imgLink);\n                imgToListen.setAttribute('src', imgLink);\n                backgroundImg.setAttribute('srcset', \"\");\n                imgToListen.setAttribute('srcset', \"\");\n                imageModule.classList.remove('change');\n                imageModule.classList.add('loading');\n            }\n        }\n\n        if (imgToListen.complete) {\n            createPaletteOnLoad(imgToListen);\n            imageModule.classList.remove('loading');\n            imageModule.classList.add('changeDone');\n        }else {\n            imgToListen.addEventListener('load', function() {\n                createPaletteOnLoad(imgToListen);\n                imageModule.classList.remove('loading');\n                imageModule.classList.add('changeDone');\n            });\n        }\n\n        // retire les classes d'animations lorsqu'elles sont terminées\n        if(e.animationName === 'bounceIn'){\n            imageModule.classList.remove('changeDone');\n            createPalette(imgToListen);\n        }\n    });\n}\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////// OTHERS FUNCTIONS ////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n//source: https://gist.github.com/brunomonteiro3/27af6d18c2b0926cdd124220f83c474d\nfunction randomMinMax(min,max){\n    return Math.floor(Math.random()*(max-min+1)+min);\n}\n\n// https://codepen.io/dropinks/pen/MrzPXB\nfunction isCollide(el1, el2) {\n    var element1 = el1.getBoundingClientRect();\n    var element2 = el2.getBoundingClientRect();\n\n    return !(\n        ((element1.top + element1.height) < (element2.top + 50)) ||\n        (element1.top > (element2.top + element2.height - 50))\n    );\n}\n\n// CSS TRICK LICENCE  -  https://css-tricks.com/license/\n//source: https://css-tricks.com/converting-color-spaces-in-javascript/\n//Convertit ma valeur HSL vers RGB\nfunction HSLtoRGB(h,s,l) {\n\n    // doit être une fraction de 1\n    s /= 100;\n    l /= 100;\n\n    let c = (1 - Math.abs(2 * l - 1)) * s,\n        x = c * (1 - Math.abs((h / 60) % 2 - 1)),\n        m = l - c/2,\n        r = 0,\n        g = 0,\n        b = 0;\n\n\n    if (0 <= h && h < 60) {\n    r = c; g = x; b = 0;  \n    } else if (60 <= h && h < 120) {\n    r = x; g = c; b = 0;\n    } else if (120 <= h && h < 180) {\n    r = 0; g = c; b = x;\n    } else if (180 <= h && h < 240) {\n    r = 0; g = x; b = c;\n    } else if (240 <= h && h < 300) {\n    r = x; g = 0; b = c;\n    } else if (300 <= h && h < 360) {\n    r = c; g = 0; b = x;\n    }\n\n    return [Math.round((r + m) * 255), Math.round((g + m) * 255), Math.round((b + m) * 255)];\n}\n\n  function RGBToHSL(r,g,b) {\n    // Make r, g, and b fractions of 1\n    r /= 255;\n    g /= 255;\n    b /= 255;\n  \n    // Find greatest and smallest channel values\n    let cmin = Math.min(r,g,b),\n        cmax = Math.max(r,g,b),\n        delta = cmax - cmin,\n        h = 0,\n        s = 0,\n        l = 0;\n\n    // Calculate hue\n    // No difference\n    if (delta == 0)\n    h = 0;\n    // Red is max\n    else if (cmax == r)\n    h = ((g - b) / delta) % 6;\n    // Green is max\n    else if (cmax == g)\n    h = (b - r) / delta + 2;\n    // Blue is max\n    else\n    h = (r - g) / delta + 4;\n\n    h = Math.round(h * 60);\n    \n    // Make negative hues positive behind 360°\n    if (h < 0)\n    h += 360;\n\n    // Calculate lightness\n    l = (cmax + cmin) / 2;\n\n    // Calculate saturation\n    s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n        \n    // Multiply l and s by 100\n    s = +(s * 100).toFixed(1);\n    l = +(l * 100).toFixed(1);\n\n    return [Math.round(h), Math.round(s), Math.round(l)];\n  }\n\n//SMOOTH SCROLL ONLY ON ANCHOR BUTTONS - Permet de reset le scroll de la page info sans l'animation du smooth scroll\n//source: https://stackoverflow.com/questions/7717527/smooth-scrolling-when-clicking-an-anchor-link\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', function (e) {\n        e.preventDefault();\n  \n        document.querySelector(this.getAttribute('href')).scrollIntoView({\n            behavior: 'smooth'\n        });\n    });\n});","// removed by extract-text-webpack-plugin"],"sourceRoot":""}