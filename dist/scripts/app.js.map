{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/app.js","webpack:///./src/styles/app.scss"],"names":["window","AudioContext","webkitAudioContext","context","o","createOscillator","g","createGain","gain","value","frequency","type","connect","destination","frq","beginBtn","document","querySelector","message","deviceAction","matchMedia","matches","innerHTML","addEventListener","e","start","gsap","to","opacity","onComplete","hide","onCompleteParams","body","sliderBtn","querySelectorAll","pianoMsg","forEach","element","target","currentTarget","page","getAttribute","setAttribute","style","display","colorInput","colorSpan","actualNote","getElementById","color","colorInputs","colorSpans","input","push","i","setFrequency","setGain","setValueAtTime","currentTime","setColors","event","setTargetAtTime","length","pianoBtn","tuto","closeTuto","sectionPiano","pianoFormInput","pianoFormSpan","editBtn","saveBtn","root","documentElement","btnColors","h","btn","btnColor","HSLToHex","randomMinMax","actualisePadBtnColor","classList","add","duration","hslColor","getHslFromAttribute","remove","targetBtn","contains","console","log","pastTarget","t","s","l","actualBtn","hexColor","pianoColor","down","notes","key","backgroundColor","speed","playRate","playRateSpan","colorNumberSpan","colorNumber","playImageBtn","imgToListen","btnUpload","btnOpenSelection","imageSelection","inputUpload","colorList","backgroundImg","colorThief","ColorThief","deviceAction2","createPalette","toggle","image","imgLink","children","currentSrc","src","click","URL","createObjectURL","files","gains","frqs","palette","getPalette","Number","RGBToHSL","createElement","appendChild","play","setTimeout","complete","createPaletteOnLoad","id","slice","setProperty","rgbColor","match","map","min","max","Math","floor","random","deleteElement","h2","l2","color1","color2","lum","sat","gainValue","round","HSLtoRGB","param","c","abs","x","m","r","b","toString","cmin","cmax","delta","toFixed"],"mappings":"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","file":"/scripts/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\n\n// Création d'un oscillateur et gain avec la web audio API\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext;\nvar context = new AudioContext();\n\nvar o = context.createOscillator();\nvar g = context.createGain();\ng.gain.value = 0;\no.frequency.value = 0;\no.type = \"triangle\";\n\ng.connect(context.destination);\no.connect(g);\n\nvar frq = 0,\n    gain = 0;\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////// START API ///////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n// Variables\n\nconst beginBtn = document.querySelector('.section-intro'),\n      message = document.querySelector('.section-intro-msg');\n  \n// Affiche le bon message en fonction du device\nlet deviceAction = window.matchMedia(\"(min-width: 900px)\").matches ? \"Cliquez\" : \"Appuyez\";\nmessage.innerHTML = deviceAction + \" pour commencer.\";\n\n// Lance l'API et fade out la section d'introdution\nbeginBtn.addEventListener('click', (e) => {\n    o.start(0);\n    gsap.to(beginBtn, {opacity: 0, onComplete: hide, onCompleteParams: [beginBtn]});\n});\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////// GESTION DU SLIDER ///////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n// VARIABLES\nconst body = document.querySelector('body'),\n      sliderBtn = document.querySelectorAll('.menu-btn'),\n      pianoMsg = document.querySelector('.piano-msg');\n\n\nsliderBtn.forEach(element => {\n    element.addEventListener('click', (e) => {\n        let target = e.currentTarget;\n        \n        let page = target.getAttribute('id');\n        body.setAttribute('data-page', page);\n\n        // Refais apparaître le message du piano\n        if (page != \"piano\") {\n            pianoMsg.style.opacity = \"1\";\n            pianoMsg.style.display = \"inherit\";\n        }\n    });\n});\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////// ECOUTE D'UNE COULEUR ////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n// VARIABLES\nvar colorInput = document.querySelectorAll('.colorInput'),\n    colorSpan = document.querySelectorAll('.colorSpan'),\n    actualNote = document.getElementById('playedColor');\n\nconst color = document.querySelector('.container-tolisten-color');\n\nvar colorInputs = [],\n    colorSpans = [];\n\ncolorInput.forEach((input) => {\n    colorInputs.push(input);\n});\ncolorSpan.forEach((colorSpan) => {\n    colorSpans.push(colorSpan);\n});\n\n\n\n\n//Lorsqu'un slider bouge :\nfor (let i = 0; i < colorInputs.length; i++) {\n    colorInputs[i].addEventListener('input', (e) => {\n\n        let frq = setFrequency(colorInputs[0].value, colorInputs[1].value, colorInputs[2].value);\n        let gain = setGain(colorInputs[2].value, colorInputs[1].value);\n\n        // Défini la fréquence\n        o.frequency.setValueAtTime(frq, context.currentTime);\n        // Défini l'intensité\n        g.gain.setValueAtTime(gain, context.currentTime);\n        // Affiche la fréquence jouée\n        actualNote.innerHTML = o.frequency.value + \" Hz\";\n        \n        // Affiche la valeur du slider \n        colorSpans[i].innerHTML = colorInputs[i].value;\n        \n        // Affiche la couleur jouée\n        setColors(colorInputs[0].value, colorInputs[1].value, colorInputs[2].value);\n\n\n        //Applique le bon event listenner (mouse ou touch)\n        colorInputs[i].addEventListener(event('end'), (e) => {\n            g.gain.setTargetAtTime(0, context.currentTime, 0.3);\n        });\n    });\n};\n\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n////////////////////////////// PAD ////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n// Variables\nconst pianoBtn = document.querySelectorAll('.pad-btn'),\n\n      tuto = document.querySelector('.pad-tuto'),\n      closeTuto = document.getElementById('closeTuto'),\n  \n      sectionPiano = document.querySelector('.section-pad'),\n      pianoFormInput = document.querySelectorAll('.padInput'),\n      pianoFormSpan = document.querySelectorAll('.padSpan'),\n      editBtn = document.querySelector('.btn-edit'),\n      saveBtn = document.querySelector('.btn-save');\n\nvar root = document.documentElement;\n\nvar btnColors = [];\n\n// Assigne une couleur légèrement aléatoire à chaque touche (chacune compris dans une transche de 40 deg)\nvar h = 0;\npianoBtn.forEach(btn => {\n    h = h + 40;\n    let btnColor = HSLToHex(randomMinMax(h, h - 40), 100, 50);\n    actualisePadBtnColor(btn, btnColor);\n});\n\n// Permets de rentrer en mode \"modification\" des boutons \neditBtn.addEventListener('click', (e) => {\n\n    // Montre le tuto\n    tuto.classList.add('show-tuto');\n\n    // Cache le tuto à jamais   \n    closeTuto.addEventListener('click', (e) => {\n        gsap.to(tuto, {duration: 0.3, opacity: 0, onComplete: hide, onCompleteParams: [tuto]});\n    });\n\n    // Sélectionne la première touche par défaut\n    sectionPiano.classList.add('pad-modify');   \n    pianoBtn[0].classList.add('pad-btn-active');\n    let hslColor = getHslFromAttribute(pianoBtn[0]);\n    for (let i = 0; i < pianoFormInput.length; i++) {\n        pianoFormInput[i].value = hslColor[i];\n        pianoFormSpan[i].innerHTML = hslColor[i];\n    }\n});\n\nsaveBtn.addEventListener('click', (e) => {\n    sectionPiano.classList.remove('pad-modify');\n    pianoBtn.forEach(btn => {\n        btn.classList.remove('pad-btn-active');\n    });\n});\n\n// Pour chaque touches du piano\npianoBtn.forEach(btn => {\n    btn.addEventListener(event('start'), (e) => {\n        let targetBtn = e.currentTarget;\n        \n        // Convertis les valeurs rgb en tsl pour les rendre utilisable par mes fonctions\n        let hslColor = getHslFromAttribute(targetBtn);\n        \n        // Défini le gain et la fréquence\n        let frq = setFrequency(hslColor[0], hslColor[1], hslColor[2]),\n            gain = setGain(hslColor[2], hslColor[1]);\n        \n        g.gain.setValueAtTime(gain, context.currentTime);\n        o.frequency.setValueAtTime(frq, context.currentTime);\n        \n        // Si la modification est désactivée - ajoute la class active et coupe le son à la fin de l'event\n        if (sectionPiano.classList.contains('pad-modify') == false) {\n            btn.addEventListener(event('end'), (e) => {\n                g.gain.setTargetAtTime(0, context.currentTime, 0.1);\n            });\n        } else {\n            g.gain.setTargetAtTime(0, context.currentTime+0.1, 0.3);\n        }\n    });\n});\n\n//Si le piano est en mode \"modification\"\npianoBtn.forEach(btn => {\n    btn.addEventListener('click', (e) => {\n        if (sectionPiano.classList.contains('pad-modify') == true) {\n            //Récupère la couleur appuyée\n            let targetBtn = e.currentTarget;\n            \n            // Dans le cas ou l'utilisateur re sélectionne la couleur active\n            if (targetBtn.classList.contains('pad-btn-active') == true) {\n                console.log('pas de double sélection possible');\n            // Si il sélectionne une autre couleur\n            }else{\n                let pastTarget = document.querySelector('.pad-btn-active');\n\n                // Actualise le bouton actif\n                targetBtn.classList.add('pad-btn-active');\n                pastTarget.classList.remove('pad-btn-active');\n\n                let hslColor = getHslFromAttribute(targetBtn);\n                \n                // Récupère les couleurs tsl depuis l'attibut style du boutton\n                hslColor = getHslFromAttribute(targetBtn);\n                btnColors.push(hslColor);\n\n                // Actualise les valeurs du slider avec la couleur actuelle du bouton\n                for (let i = 0; i < pianoFormInput.length; i++) {\n                    pianoFormInput[i].value = hslColor[i];\n                    pianoFormSpan[i].innerHTML = hslColor[i];\n                }\n\n            }\n        }\n    });\n});\n\n\n// L'orsqu'un slider bouge - modifie la couleur active\nfor (let i = 0; i < pianoFormInput.length; i++) {\n    pianoFormInput[i].addEventListener('input', (e) => {\n        let t = pianoFormInput[0].value,\n            s = pianoFormInput[1].value,\n            l = pianoFormInput[2].value;\n\n        pianoFormSpan[i].innerHTML = pianoFormInput[i].value;\n        \n        let actualBtn = document.querySelector('.pad-btn-active');\n        let hexColor = HSLToHex(t, s, l);\n        \n        // Actualise la couleur du bouton\n        actualisePadBtnColor(actualBtn, hexColor);\n        \n        // Défini le gain et la fréquence\n        let frq = setFrequency(t, s, l),\n            gain = setGain(l, s);\n\n        o.frequency.setValueAtTime(frq, context.currentTime);\n        g.gain.setValueAtTime(gain, context.currentTime);\n\n        pianoFormInput[i].addEventListener(event('end'), (e) => {\n            g.gain.setTargetAtTime(0, context.currentTime, 0.1);\n        });\n    })\n}\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n/////////////////////////// Piano/// //////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n\n// Empêche le \"keydown\" event de se répéter lorsqu'on maintiens la touche\n// https://stackoverflow.com/questions/17514798/how-to-disable-repetitive-keydown-in-javascript\n\n// Variables\nconst pianoColor = document.querySelector('.piano-color');\n\nvar t = 0,\n    s = 0,\n    l = 0,\n    down = false;\n    \n// Assiciation d'une fréquence à chaque touches\nvar notes = {\n    \"a\": \"150\",\n    \"z\": \"170\",\n    \"e\": \"190\",\n    \"r\": \"210\",\n    \"t\": \"230\",\n    \"y\": \"250\",\n    \"u\": \"270\",\n    \"i\": \"290\",\n    \"o\": \"310\",\n    \"p\": \"330\",\n    \"q\": \"350\",\n    \"s\": \"370\",\n    \"d\": \"390\",\n    \"f\": \"410\",\n    \"g\": \"430\",\n    \"h\": \"450\",\n    \"j\": \"470\",\n    \"k\": \"490\",\n    \"l\": \"510\",\n    \"m\": \"530\",\n    \"w\": \"550\",\n    \"x\": \"570\",\n    \"c\": \"590\",\n    \"v\": \"610\",\n    \"b\": \"630\",\n    \"n\": \"650\",\n    \",\": \"670\",\n    \";\": \"690\", \n    // De plus hautes fréquences ne sont pas associable avec les paramètres de couleur actuels\n    \":\": \"690\",\n    \"=\": \"690\"};\n\n// Récupère la touche jouée et joue la fréquence qui lui est associée\ndocument.addEventListener('keydown', (event) => {\n    let key = event.key;\n\n    // Si la page est celle du piano clavier, on prends en compte l'appuis clavier\n    if(body.getAttribute('data-page') == \"piano\") {\n\n        // Permet de ne pas répéter l'événement 'keydown' lors d'un appuis enfoncé\n        if(down) return;\n        down = true;\n\n        // Si une fréquence est assigné à la touche, on la joue\n        if (notes[key] != null) {\n            let frq = notes[key],\n                color = 0;\n\n            // Assigne la valeur de gain et fréquence\n            o.frequency.setValueAtTime(frq, context.currentTime);\n            g.gain.setValueAtTime(1, context.currentTime);\n                \n            // Cherche une couleur correspondant à la fréquence\n            do {\n                t = randomMinMax(0, 360);\n                s = 100;\n                l = randomMinMax(50, 60);\n                color = setFrequency(t, s, l);\n            } while (frq != color);\n\n            // Convertis la couleur en hexadécimal pour l'assigner\n            let hexColor = HSLToHex(t, s, l);\n\n            // Assignation de la couleur et d'un class de transition\n            pianoColor.style.backgroundColor = hexColor;\n            pianoColor.classList.add('piano-color-active');\n\n            // Cache le message\n            gsap.to(pianoMsg, {duration: 0.3, opacity: 0, onComplete: hide, onCompleteParams: [pianoMsg]});\n        }\n    }\n}, false);\n\n// Lorsqu'on lâche la touche, le son s'arrête et la couleur passe au blanc\ndocument.addEventListener('keyup', (event) => {\n    pianoColor.classList.remove('piano-color-active');\n    pianoColor.style.backgroundColor = \"#fff\";\n    g.gain.setTargetAtTime(0, context.currentTime, 0.1);\n\n    down = false;\n}, false);\n\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////// ECOUTE D'UNE IMAGE //////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n\n// VARIABLES\nvar speed = 120;\nconst playRate = document.getElementById('playRate'),\n      playRateSpan = document.getElementById('playRateSpan'),\n      colorNumberSpan = document.getElementById('colorNumberSpan'),\n      colorNumber = document.getElementById('colorNumber');\n\nconst playImageBtn = document.getElementById('getColors'),\n      imgToListen = document.querySelector('.img'),\n      btnUpload = document.getElementById('uploadBtn'),\n      btnOpenSelection = document.getElementById('btnOpenSelection'),\n      imageSelection = document.querySelectorAll('.selection-image-el'),\n      inputUpload = document.getElementById('uploadInput'),\n      colorList = document.querySelector('.color-list'),\n      backgroundImg = document.querySelector('.container-img');\n\nconst colorThief = new ColorThief();\n\n// Affiche le bon message en fonction du device\nlet deviceAction2 = window.matchMedia(\"(min-width: 900px)\").matches ? \"mon explorateur de fichiers\" : \"ma galerie\";\nbtnUpload.innerHTML = \"Ouvrir \" + deviceAction2;\n\n// Réglage de la vitesse de lecture\nplayRate.addEventListener('input', (e) => {\n    speed = playRate.value * -1;\n    playRateSpan.innerHTML = playRate.value * -1;\n});\n\n// Réglage du nombre de couleurs\ncolorNumber.addEventListener('input', (e) => {\n    colorNumberSpan.innerHTML = colorNumber.value;\n});\n\n// Présélectionne une image\nimageSelection[0].classList.add('selected');\n\n// Crée la palette de l'image présélectionnée\n// S'assure que l'image est chargée\ncreatePalette(imgToListen);\n\n// Ouvre la sélection\nbtnOpenSelection.addEventListener('click', (e) => {\n    btnOpenSelection.classList.toggle('selection-open');\n});\n\n// Change l'image avec l'image sélectionnée\nimageSelection.forEach(image => {\n    image.addEventListener('click', (e) => {\n        let currentTarget = e.currentTarget;\n        currentTarget.classList.add('selected');\n        \n        // Vérifie si ils sont null avant d'ajouter ou retirer la class\n        let pastTarget = document.querySelector('.selected');\n        pastTarget != null ? pastTarget.classList.remove('selected') : console.log('selection added');\n        \n\n        let imgLink = currentTarget.children[0].currentSrc;\n                \n        backgroundImg.src = imgLink;\n        imgToListen.src = imgLink;\n        createPalette(imgToListen);\n    });\n});\n\n\n\n// Upload d'une image\nbtnUpload.addEventListener('click', (e) => {\n     inputUpload.click();\n     //Actualise l'image uploadée\n     inputUpload.addEventListener('change', (e) => {\n        let pastTarget = document.querySelector('.selected');\n        pastTarget != null ? pastTarget.classList.remove('selected') : console.log('selection removed');\n\n        let imgLink = URL.createObjectURL(e.target.files[0]);\n        backgroundImg.src = imgLink;\n        imgToListen.src = imgLink;\n\n        createPalette(imgToListen);\n     });\n});\n\n//Récupère les couleurs de l'image et les joue\nplayImageBtn.addEventListener('click', (e) => {\n    colorList.innerHTML = \"\";\n\n    let gains = [],\n        frqs = [];\n    \n    let palette = colorThief.getPalette(imgToListen, Number(colorNumber.value));\n\n    for (let i = 0; i < palette.length; i++) {\n\n        let hslColor = RGBToHSL(palette[i][0], palette[i][1], palette[i][2]);\n\n        let h = hslColor[0],\n            s = hslColor[1],\n            l = hslColor[2];           \n        \n        // Crée un élement HTML auquel il assigne la couleur\n        let color = document.createElement('li');\n        color.classList.add('color-list-el');\n        color.style.backgroundColor = \"hsl(\"+ h +\", \"+ s +\"%, \"+ l +\"%)\";\n        \n        colorList.appendChild(color);\n\n        // Génère un gain et une fréquence pour chaque couleur\n        let gain = setGain(l, s);\n        let frq = setFrequency(h, s, l);\n\n        gains.push(gain);\n        frqs.push(frq);\n    }\n    \n    //Joue chaque paramètre les uns après les autres\n    for(var i = 0; i < frqs.length; i++) {\n        play(i);\n    }\n\n    function play(i) {\n        setTimeout(function() {\n            g.gain.setValueAtTime(gains[i], context.currentTime);\n            o.frequency.setValueAtTime(frqs[i], context.currentTime);\n\n            g.gain.setTargetAtTime(0, context.currentTime, speed/1500);\n        }, i*speed);\n    }\n});\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////// MY FUNCTIONS ////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\nfunction createPalette(image) {\n    if (image.complete) {\n        createPaletteOnLoad(image);\n    }else {\n        image.addEventListener('load', function() {\n            createPaletteOnLoad(image);\n        });\n    }\n}\n\nfunction createPaletteOnLoad(image) {\n    colorList.innerHTML = \"\";\n    const palette = colorThief.getPalette(image, Number(colorNumber.value));\n    \n    for (let i = 0; i < palette.length; i++) {\n    \n        let hslColor = RGBToHSL(palette[i][0], palette[i][1], palette[i][2]);\n    \n        let h = hslColor[0],\n            s = hslColor[1],\n            l = hslColor[2];           \n        \n        // Crée un élement HTML auquel il assigne la couleur\n        let color = document.createElement('li');\n        color.classList.add('color-list-el');\n        color.style.backgroundColor = \"hsl(\"+ h +\", \"+ s +\"%, \"+ l +\"%)\";\n        \n        colorList.appendChild(color);\n    }\n}\n\nfunction actualisePadBtnColor(btn, color) {\n    btn.style.backgroundColor = color;\n    let id = btn.getAttribute('id').slice(-1);\n    root.style.setProperty('--pad-btn-color-'+id, color);\n}\n\nfunction getHslFromAttribute(element) {\n    //récupère les nombres (t, s et l) de l'attribu background-color\n    let rgbColor = element.getAttribute('style').match(/\\d+/g).map(Number);\n                \n    // Convertis les valeurs rgb en tsl pour les rendre utilisable par mes fonctions\n    return RGBToHSL(rgbColor[0], rgbColor[1], rgbColor[2]);\n}\n\n//source: https://gist.github.com/brunomonteiro3/27af6d18c2b0926cdd124220f83c474d\nfunction randomMinMax(min,max){\n    return Math.floor(Math.random()*(max-min+1)+min);\n}\n\nfunction deleteElement(element) {\n    element.remove();\n}\n\nfunction hide(element) {\n    element.style.display = \"none\";\n}\n\nfunction setColors(h, s, l) {\n    h = Number(h);\n    l = Number(l);\n    \n    let h2 = h+20,\n        l2 = l-5;\n\n    h2 = h2 > 359 ? 359 : h2;\n    l2 = l2 < 0 ? 0 : l2;\n\n    let color1 = HSLToHex(h, s, l),\n        color2 = HSLToHex(h2, s, l2);\n\n    //if(h2 > 360) {h2 = 360}\n    color.setAttribute(\n        'style',\n        \"background: linear-gradient(\"\n        +color1+\", \"\n        +color2+\")\"\n    );\n}\n\n// Calcule le gain\nfunction setGain(lum, sat) {\n    //Si la couleur est lumineuse, alors le son s'estompe également\n    if(lum >= 50) {\n        lum = 100 - lum;\n    }\n\n    let gainValue = (sat/100)*(lum/100);\n    \n    gainValue = (Math.round(gainValue * 100) / 100)*2;\n\n    //Si couleur invisible -> son 0\n    if(lum == 0 || lum == 100 || sat == 0) {\n        gainValue = 0.0001;\n    }\n\n    return gainValue;\n}\n\n// Calcule la fréquence\nfunction setFrequency(h, s, l) {\n    \n    h = Number(h);\n    s = Number(s);\n    l = Number(l);\n    \n    // Convertis la couleur HSL en RGB sans tenir compte de la saturation - celle-ci est gérée apprès\n    let rgbColor = HSLtoRGB(h, 80, l);\n    \n    // Donne une ordre d'importance au R G et B\n    frq = Math.round(rgbColor[0]*0.9 + rgbColor[1]*2 + rgbColor[2]*0.3);\n\n    // Prise en compte de la saturation - elle influe sur le gain et s'ajoute à la valeur de la fréquence\n    frq = frq - 100 + s;\n\n    frq = Math.round(frq);\n\n    // Empêche de descendre dans des valeurs négatives\n    if (frq < 0) {\n        frq = 0;\n    }\n\n    return frq;\n}\n\n// Défini la bon event à écouter - touch ou mouse\nfunction event(param) {\n    let event;\n    if (window.matchMedia(\"(min-width: 900px)\").matches) {\n        // Desktop - mouseevent\n        if(param == 'start') {\n            event = 'mousedown';\n        }else if(param == 'end'){\n            event = 'mouseup';\n        }\n    } else {\n        // Tablet - touchevent\n        if(param == 'start') {\n            event = 'touchstart';\n        }else if(param == 'end'){\n            event = 'touchend';\n        }\n    }\n    return event;\n}\n\n\n\n\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////// OTHERS FUNCTIONS ////////////////////////////\n///////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////\n\n\n//source: https://css-tricks.com/converting-color-spaces-in-javascript/\n//Convertit ma valeur HSL vers RGB\nfunction HSLtoRGB(h,s,l) {\n\n    // doit être une fraction de 1\n    s /= 100;\n    l /= 100;\n\n    let c = (1 - Math.abs(2 * l - 1)) * s,\n        x = c * (1 - Math.abs((h / 60) % 2 - 1)),\n        m = l - c/2,\n        r = 0,\n        g = 0,\n        b = 0;\n\n\n    if (0 <= h && h < 60) {\n    r = c; g = x; b = 0;  \n    } else if (60 <= h && h < 120) {\n    r = x; g = c; b = 0;\n    } else if (120 <= h && h < 180) {\n    r = 0; g = c; b = x;\n    } else if (180 <= h && h < 240) {\n    r = 0; g = x; b = c;\n    } else if (240 <= h && h < 300) {\n    r = x; g = 0; b = c;\n    } else if (300 <= h && h < 360) {\n    r = c; g = 0; b = x;\n    }\n\n    return [Math.round((r + m) * 255), Math.round((g + m) * 255), Math.round((b + m) * 255)];\n}\n\nfunction HSLToHex(h,s,l) {\n    s /= 100;\n    l /= 100;\n  \n    let c = (1 - Math.abs(2 * l - 1)) * s,\n        x = c * (1 - Math.abs((h / 60) % 2 - 1)),\n        m = l - c/2,\n        r = 0,\n        g = 0, \n        b = 0; \n  \n    if (0 <= h && h < 60) {\n      r = c; g = x; b = 0;\n    } else if (60 <= h && h < 120) {\n      r = x; g = c; b = 0;\n    } else if (120 <= h && h < 180) {\n      r = 0; g = c; b = x;\n    } else if (180 <= h && h < 240) {\n      r = 0; g = x; b = c;\n    } else if (240 <= h && h < 300) {\n      r = x; g = 0; b = c;\n    } else if (300 <= h && h < 360) {\n      r = c; g = 0; b = x;\n    }\n    // Having obtained RGB, convert channels to hex\n    r = Math.round((r + m) * 255).toString(16);\n    g = Math.round((g + m) * 255).toString(16);\n    b = Math.round((b + m) * 255).toString(16);\n  \n    // Prepend 0s, if necessary\n    if (r.length == 1)\n      r = \"0\" + r;\n    if (g.length == 1)\n      g = \"0\" + g;\n    if (b.length == 1)\n      b = \"0\" + b;\n  \n    return \"#\" + r + g + b;\n  }\n\n  function RGBToHSL(r,g,b) {\n    // Make r, g, and b fractions of 1\n    r /= 255;\n    g /= 255;\n    b /= 255;\n  \n    // Find greatest and smallest channel values\n    let cmin = Math.min(r,g,b),\n        cmax = Math.max(r,g,b),\n        delta = cmax - cmin,\n        h = 0,\n        s = 0,\n        l = 0;\n\n    // Calculate hue\n    // No difference\n    if (delta == 0)\n    h = 0;\n    // Red is max\n    else if (cmax == r)\n    h = ((g - b) / delta) % 6;\n    // Green is max\n    else if (cmax == g)\n    h = (b - r) / delta + 2;\n    // Blue is max\n    else\n    h = (r - g) / delta + 4;\n\n    h = Math.round(h * 60);\n    \n    // Make negative hues positive behind 360°\n    if (h < 0)\n    h += 360;\n\n    // Calculate lightness\n    l = (cmax + cmin) / 2;\n\n    // Calculate saturation\n    s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n        \n    // Multiply l and s by 100\n    s = +(s * 100).toFixed(1);\n    l = +(l * 100).toFixed(1);\n\n    return [h, s, l];\n  }\n\n\n","// removed by extract-text-webpack-plugin"],"sourceRoot":""}